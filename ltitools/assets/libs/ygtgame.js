(function (lib, img, cjs, ss) {

var p; // shortcut to reference prototypes

// library properties:
lib.properties = {
	width: 960,
	height: 540,
	fps: 30,
	color: "#FFFFFF",
	manifest: []
};



// symbols:



(lib.Tyou = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("AK1A4QAAArgWAYQgYAXgpAAQgpAAgYgYQgXgYAAgqIAAk5IifAAIAAEyQAAAmAPAxQAJAfAZAcQAYAdAeAQQAeAPAtAGQAsAFAlAAQBBAAAvgRQAhgMAfgfQAegeAOgpQAPgpAAgtIAAkyIigAAgAjgCWQAjA8A6AcQA5AcBVAAQBWAAA6ggQA5ggAeg6QAfg6AAhYQAAh9hGhFQhFhFiBAAQh8AAhGBGQhGBHAAB8QAABaAjA8gAhHhvQAeghAuAAQAyAAAeAhQAdAiAABJQAABUgcAhQgdAigzAAQgwAAgdgiQgdgjAAhNQAAhNAdgjgAqKApIAADYICfAAIAAjYIDJkqIixAAIhoCvIhoivIixAAg");
	this.shape.setTransform(85.3,26.7);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#006666").s().p("AIYEEQgsgFgegPQgegQgZgdQgZgcgJggQgOgxAAglIAAkyICeAAIAAE5QABAqAXAYQAXAXApAAQAqAAAXgWQAYgYAAgrIAAk5ICfAAIAAEyQAAAtgPApQgOAogeAfQgfAfghAMQgvARhAAAQgmAAgtgGgAiDDuQg6gcgjg8Qgjg8AAhaQAAh8BGhHQBHhGB7AAQCAAABGBFQBFBFAAB9QAABYgdA6QgfA5g6AhQg5AghWAAQhVAAg5gcgAhHhuQgdAhAABNQAABOAdAjQAdAhAwAAQAzABAcgiQAcghAAhVQAAhIgdgiQgdghgzAAQgugBgdAjgAqLEBIAAjYIjJkqICyAAIBnCvIBpivICvAAIjIEqIAADYg");
	this.shape_1.setTransform(85.3,26.7);

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,172.6,55.3);


(lib.Tyep = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("Ah9jnIAwGGICaAAIAxmGIAAjDIj7AAgAh0GrIDqAAIAAjRIjqAAg");
	this.shape.setTransform(12.7,42.8);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#006666").s().p("Ah0GrIAAjRIDqAAIAADRgAhNCfIgwmGIAAjDID7AAIAADDIgxGGg");
	this.shape_1.setTransform(12.7,42.8);

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,27.4,87.5);


(lib.Tthis = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("AIPDXQAzAzCDAAQBLAAAxgVQAxgWAcgqQAbgqAAgxQAAgrgVgiQgUgggtgXQgtgXhpgWQgqgJgLgKQgMgKAAgNQAAgRAOgLQAOgMAcAAQAiAAATAQQATAPAGAjICWgIQgJhQg0gmQg1gkhiAAQhQAAgvAUQguAVgXAjQgXAjAAAoQAAA8AtAnQAtAlBoAYQBAAOASAQQASAQAAAUQAAAVgTAQQgSAQgjAAQgtAAgZgfQgPgUgFglIiXAKQAGBOAzAygAl8EBICfAAIAAjQICvAAIAADQICeAAIAAoCIieAAIAAC1IivAAIAAi1IifAAgADgEBICfAAIAAoCIifAAgAuoiBICiAAIAAGCICfAAIAAmCICjAAIAAiAInkAAg");
	this.shape.setTransform(93.8,26.7);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#006666").s().p("AIPDXQgzgygGhOICXgKQAFAlAPATQAYAfAvAAQAhAAATgPQASgRABgUQAAgVgSgPQgSgQhAgPQhpgXgsglQgtgnAAg9QAAgnAXgjQAXgjAugVQAvgUBQAAQBiAAA0AlQA1AkAJBRIiWAIQgGgjgTgPQgTgQgiAAQgcAAgOAMQgOAMAAAQQAAAMAMAKQALALAqAIQBoAXAuAXQAtAXAVAgQAUAiAAAqQAAAygbApQgcArgxAVQgxAWhLAAQiDAAgzgzgADgEBIAAoCICfAAIAAICgAgvEBIAAjQIiuAAIAADQIifAAIAAoCICfAAIAAC1ICuAAIAAi1ICeAAIAAICgAsFEBIAAmCIijAAIAAiAIHkAAIAACAIijAAIAAGCg");
	this.shape_1.setTransform(93.8,26.7);

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,189.5,55.3);


(lib.Tgot = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("AB3o5IAAAxQggASgYAIQgYAIgbAAQg2AAgggkQgggkAAhUQAAhOAgglQAfgkAzAAQAjAAAWAPQAXAQAKAdICZgcQgOgxgcghQgcgggqgQQgrgPhVAAQhXAAg0AZQhEAggiA+QgjA/AABUQAABQAgA+QAgA+A5AfQA6AgBaAAQBLAAA2gSQA3gRBGgwIAAjcIj2AAIAABrgAhNhqQAegiAvAAQAxAAAeAiQAdAhAABJQAABVgcAgQgdAigzAAQgwAAgdgiQgdgiAAhOQAAhNAdgigAjmCbQAjA8A6AbQA5AcBVAAQBWAAA6gfQA5ghAfg5QAeg7AAhaQAAh7hGhEQhFhGiAAAQh9AAhGBGQhHBHAAB8QAABbAkA8gAjyIHICjAAIAAGEICdAAIAAmEICiAAIAAiAIniAAg");
	this.shape.setTransform(26.7,90.8);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#006666").s().p("AhPOLIAAmEIiiAAIAAh/IHhAAIAAB/IiiAAIAAGEgAiJDyQg5gcgkg7Qgjg9gBhaQABh8BGhHQBHhFB8gBQCAABBFBFQBFBFAAB6QAABbgeA6QgeA5g6AhQg5AfhWAAQhVAAg5gcgAhNhqQgdAiAABNQAABOAdAiQAdAiAwAAQAzAAAdgiQAcghAAhUQAAhJgegiQgdghgxAAQgvAAgeAigAiPmVQg7gfgfg9Qggg/AAhQQAAhUAjg+QAjg/BDggQA0gZBXAAQBVAAArAPQAqAQAcAhQAcAgAOAyIiZAbQgKgdgXgPQgXgQgiAAQgzAAgfAkQggAlABBPQAABTAfAkQAfAkA3AAQAbAAAYgIQAYgIAggSIAAgxIhrAAIAAhrID2AAIAADcQhGAwg3ASQg3ARhKAAQhaAAg5ggg");
	this.shape_1.setTransform(26.7,90.8);

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,55.4,183.5);

    
(lib.Xwrong = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#CC0000").s().p("ABWDdIhWiOIhWCOIiaAAICajlIiMjVICXAAIBNCJIBMiJICWAAIiLDYICYDig");
	this.shape.setTransform(24.2,22.2);

	this.addChild(this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(0,0,48.3,44.4);


(lib.wrongAnimation = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		this.stop();
		this.visible=false;
	}
	this.frame_1 = function() {
		this.visible=true;
	}
	this.frame_7 = function() {
		this.visible=true;
	}
	this.frame_12 = function() {
		this.gotoAndStop(0);
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1).call(this.frame_1).wait(6).call(this.frame_7).wait(5).call(this.frame_12).wait(1));

	// wrongAnim
	this.Xwrong = new lib.Xwrong();
	this.Xwrong.setTransform(24.2,22.2,1,1,0,0,0,24.2,22.2);

	this.timeline.addTween(cjs.Tween.get(this.Xwrong).wait(1).to({scaleX:0.42,scaleY:0.42},0).to({scaleX:1,scaleY:1},6).to({alpha:0},5).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,48.3,44.4);


(lib.star = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#FFFFFF").ss(1,1,1).p("AAACoIgrh+IiEgDIBphPIgmh/IBsBLIBthLIgmB/IBpBPIiEADg");

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#D5B72B").s().p("AgrAqIiEgDIBphPIgmh/IBsBLIBthLIgmB/IBpBPIiEADIgsB+g");

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-18.6,-17.8,37.3,35.7);


(lib.scoreboard = function() {
	this.initialize();

	// count
	this.count = new cjs.Text("Question: 1/15", "22px 'Arial'", "#fafafa");
	this.count.name = "count";
	this.count.lineHeight = 22;
	this.count.lineWidth = 246;
	this.count.setTransform(8,9);

	// time
	this.time = new cjs.Text("1:32", "22px 'Arial'", "#fafafa");
	this.time.name = "time";
	this.time.textAlign = "center";
	this.time.lineHeight = 22;
	this.time.lineWidth = 106;
	this.time.setTransform(465,9);

	// score
	this.score = new cjs.Text("Score: 10", "22px 'Arial'", "#fafafa");
	this.score.name = "score";
	this.score.textAlign = "right";
	this.score.lineHeight = 22;
	this.score.lineWidth = 245;
	this.score.setTransform(923,9);

	// bkgrnd
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("EhIAgDbMCQBAAAQBQAAAABQIAAEXQAABQhQAAMiQBAAAQhQAAAAhQIAAkXQAAhQBQAAg");
	this.shape.setTransform(469,21);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("rgba(102,102,204,0.898)").s().p("EhIAADcQhQAAAAhQIAAkWQAAhQBQAAMCQBAAAQBQAAAABQIAAEWQAABQhQAAg");
	this.shape_1.setTransform(469,21);

	this.addChild(this.shape_1,this.shape,this.score,this.time,this.count);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-2,940,46);


(lib.watermark = function() {
	this.initialize();

	// Layer 1
	this.instance = new lib.Tyou();
	this.instance.setTransform(85.3,91.4,1,1,0,0,0,85.3,26.7);

	this.instance_1 = new lib.Tgot();
	this.instance_1.setTransform(85.8,90.8,1,1,0,0,0,26.7,90.8);

	this.instance_2 = new lib.Tthis();
	this.instance_2.setTransform(155.4,156.3,1,1,0,0,0,93.8,26.7);

	this.instance_3 = new lib.Tyep();
	this.instance_3.setTransform(266.8,138.3,1,1,0,0,0,12.7,42.8);

	this.addChild(this.instance_3,this.instance_2,this.instance_1,this.instance);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,281.4,184.9);


(lib.resultsPanel = function() {
	this.initialize();

	// txt
	this.txt = new cjs.Text("Results Panel", "bold 17px 'Arial Black'", "#333333");
	this.txt.name = "txt";
	this.txt.textAlign = "center";
	this.txt.lineHeight = 19;
	this.txt.lineWidth = 554;
	this.txt.setTransform(303,26.3);

	// retryBtn
	this.retryBtn = new lib.beginBtn();
	this.retryBtn.setTransform(305,279,1,1,0,0,0,72.2,17.5);

	// bkgrnd
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("EguYgaJMBcxAAAQBQAAAABQMAAAAxzQAABQhQAAMhcxAAAQhQAAAAhQMAAAgxzQAAhQBQAAg");
	this.shape.setTransform(305,167.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("rgba(0,204,255,0.639)").s().p("EguYAaKQhQAAAAhQMAAAgxzQAAhQBQAAMBcxAAAQBQAAAABQMAAAAxzQAABQhQAAg");
	this.shape_1.setTransform(305,167.5);

	this.addChild(this.shape_1,this.shape,this.retryBtn,this.txt);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,612,337);


(lib.questionPanel = function() {
	this.initialize();

	// txt
	this.txt = new cjs.Text("questions text\nquestions text\nquestions text\nquestions text\nquestions text", "20px 'Arial'", "#333333");
	this.txt.name = "txt";
	this.txt.lineHeight = 20;
	this.txt.lineWidth = 878;
	this.txt.setTransform(21,20.5);

	// bkgrnd
	this.instruct = new cjs.Text("Drag answer and Drop onto question", "16px 'Arial'", "#CCCCCC");
	this.instruct.name = "instruct";
	this.instruct.textAlign = "center";
	this.instruct.lineHeight = 16;
	this.instruct.lineWidth = 883;
	this.instruct.setTransform(455.5,185.9);

	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("EhG1gQ7MCNrAAAQBQAAAABQIAAfXQAABQhQAAMiNrAAAQhQAAAAhQIAA/XQAAhQBQAAg");
	this.shape.setTransform(461.5,108.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("rgba(0,204,255,0.639)").s().p("EhG1AQ8QhQAAAAhQIAA/XQAAhQBQAAMCNrAAAQBQAAAABQIAAfXQAABQhQAAg");
	this.shape_1.setTransform(461.5,108.5);

	this.addChild(this.shape_1,this.shape,this.instruct,this.txt);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,925,219);


(lib.answerPanel = function() {
	this.initialize();
    
    this.cursor = 'pointer';
    var fb = '';//feedback text
    var weight=0;// correct=100
    
	// txt
	this.txt = new cjs.Text("asdf\nadsf\nasdf", "16px 'Arial'", "#333333");
	this.txt.name = "txt";
	this.txt.lineHeight = 16;
	this.txt.lineWidth = 427;
	this.txt.setTransform(8,5.3);

	// bkg
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("EghqgFsMBDVAAAQBQAAAABQIAAI5QAABQhQAAMhDVAAAQhQAAAAhQIAAo5QAAhQBQAAg");
	this.shape.setTransform(223.5,36.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("rgba(0,204,255,0.639)").s().p("EghpAFsQhRAAAAhQIAAo3QAAhRBRAAMBDUAAAQBQAAAABRIAAI3QAABQhQAAg");
	this.shape_1.setTransform(223.5,36.5);

	this.addChild(this.shape_1,this.shape,this.txt);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,449,75);


(lib.bluePanel = function() {
	this.initialize();

	// Layer 1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("EhF0gaJMCLpAAAQBQAAAABQMAAAAxzQAABQhQAAMiLpAAAQhQAAAAhQMAAAgxzQAAhQBQAAg");
	this.shape.setTransform(455,167.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("rgba(0,204,255,0.639)").s().p("EhF0AaKQhQAAAAhQMAAAgxzQAAhQBQAAMCLpAAAQBQAAAABQMAAAAxzQAABQhQAAg");
	this.shape_1.setTransform(455,167.5);

	this.addChild(this.shape_1,this.shape);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,912,337);


(lib.beginBtn = function() {
	this.initialize();

	// txt
	this.txt = new cjs.Text("Begin Game", "bold 17px 'Arial Black'", "#FFFFFF");
	this.txt.textAlign = "center";
	this.txt.lineHeight = 19;
	this.txt.lineWidth = 133;
	this.txt.setTransform(70,9);

	// bkgrnd
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#333333").ss(2,1,1).p("ArRiuIWjAAIAAFdI2jAAg");
	this.shape.setTransform(72.3,17.5);

	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("rgba(0,102,51,0.639)").s().p("ArRCvIAAldIWjAAIAAFdg");
	this.shape_1.setTransform(72.3,17.5);

	this.addChild(this.shape_1,this.shape,this.txt);
}).prototype = p = new cjs.Container();
p.nominalBounds = new cjs.Rectangle(-1,-1,146.5,37.1);


(lib.titleAnimation = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		//this.stop();//is halting animation, let it autoplay?
	}
	this.frame_1 = function() {
		this.play();
	}
	this.frame_38 = function() {
		this.stop();
		/*
			show beginBtn
			wait for click
		*/
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1).call(this.frame_1).wait(37).call(this.frame_38).wait(1));

	// Tyou
	this.instance = new lib.Tyou();
	this.instance.setTransform(-568.1,0.9,1,1,0,0,0,85.3,26.7);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1).to({x:-391.7,alpha:0.102},0).wait(1).to({regY:26.6,x:-368.9,y:0.8,alpha:0.162},0).wait(1).to({x:-332.6,alpha:0.259},0).wait(1).to({x:-288.9,alpha:0.376},0).wait(1).to({x:-241.1,alpha:0.503},0).wait(1).to({x:-191.4,alpha:0.636},0).wait(1).to({x:-142.4,alpha:0.767},0).wait(1).to({x:-96.5,alpha:0.89},0).wait(1).to({regY:26.7,x:-55.1,y:0.9,alpha:1},0).wait(30));

	// Tgot
	this.instance_1 = new lib.Tgot();
	this.instance_1.setTransform(-54.6,-179.2,1,1,0,0,0,26.7,90.8);
	this.instance_1.alpha = 0.102;
	this.instance_1._off = true;

	this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(14).to({_off:false},0).wait(1).to({y:-170.8,alpha:0.143},0).wait(1).to({y:-153.4,alpha:0.23},0).wait(1).to({y:-112.9,alpha:0.433},0).wait(1).to({y:-58.8,alpha:0.704},0).wait(1).to({y:-21,alpha:0.893},0).wait(1).to({y:0.3,alpha:1},0).wait(19));

	// This
	this.instance_2 = new lib.Tthis();
	this.instance_2.setTransform(364.9,65.8,1,1,0,0,0,93.8,26.7);
	this.instance_2.alpha = 0.09;
	this.instance_2._off = true;

	this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(18).to({_off:false},0).wait(1).to({regY:26.6,x:328,y:65.7,alpha:0.186},0).wait(1).to({x:294.3,alpha:0.273},0).wait(1).to({x:262.8,alpha:0.355},0).wait(1).to({x:232.4,alpha:0.434},0).wait(1).to({x:202.1,alpha:0.513},0).wait(1).to({x:170.9,alpha:0.594},0).wait(1).to({x:137.7,alpha:0.681},0).wait(1).to({x:101.6,alpha:0.775},0).wait(1).to({regY:26.7,x:14.9,y:65.8,alpha:1},0).wait(12));

	// Tyep
	this.instance_3 = new lib.Tyep();
	this.instance_3.setTransform(126.3,-192.2,1,1,0,0,0,12.7,42.8);
	this.instance_3._off = true;

	this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(34).to({_off:false},0).wait(1).to({y:-117.8},0).wait(1).to({y:-34.7},0).wait(1).to({y:25.3},0).wait(1).to({y:47.8},0).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-654.4,-26.8,172.6,55.3);


(lib.staranimated = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
	this.frame_0 = function() {
		this.stop();
		this.visible = false;
	}
	this.frame_1 = function() {
		this.play();
		this.visible = true;
	}
	this.frame_14 = function() {
		this.gotoAndStop(0);
	}

	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1).call(this.frame_1).wait(13).call(this.frame_14).wait(1));

	// star
	this.instance = new lib.star();
	this.instance.setTransform(-0.2,0.2,0.595,0.595);

	this.timeline.addTween(cjs.Tween.get(this.instance).wait(1).to({scaleX:1.22,scaleY:1.22,rotation:120,x:60.1,y:-73.8,alpha:0},13).wait(1));

	// star
	this.instance_1 = new lib.star();
	this.instance_1.setTransform(-0.2,0.2,0.595,0.595);

	this.timeline.addTween(cjs.Tween.get(this.instance_1).wait(1).to({scaleX:1.22,scaleY:1.22,rotation:-127,x:93.4,y:28.1,alpha:0},13).wait(1));

	// star
	this.instance_2 = new lib.star();
	this.instance_2.setTransform(-0.8,0.2,0.595,0.595);

	this.timeline.addTween(cjs.Tween.get(this.instance_2).wait(1).to({scaleX:1.22,scaleY:1.22,rotation:-166,x:-2.9,y:76.5,alpha:0},13).wait(1));

	// star
	this.instance_3 = new lib.star();
	this.instance_3.setTransform(-0.8,0.8,0.595,0.595);

	this.timeline.addTween(cjs.Tween.get(this.instance_3).wait(1).to({scaleX:1.22,scaleY:1.22,rotation:-144,x:-85.3,y:14.6,alpha:0},13).wait(1));

	// star
	this.instance_4 = new lib.star();
	this.instance_4.setTransform(-0.2,0.2,0.595,0.595);

	this.timeline.addTween(cjs.Tween.get(this.instance_4).wait(1).to({scaleX:1.22,scaleY:1.22,rotation:-97.7,x:-47.3,y:-72,alpha:0},13).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-11.6,-10.1,22.3,21.3);


// stage content:



(lib.ygtgame = function(mode,startPosition,loop) {
if (loop == null) { loop = false; }	this.initialize(mode,startPosition,loop,{});

	// timeline functions:
    this.frame_0 = function() {
		/*
			title screen
		
		*/
		this.stop();
        var qtotal = 0;// total questions
        var qnum = 0;// question number
        var score = 0;
        var answers=[];
        var wrong = this.wrongAnimation;
        var stars = this.starsAnimation;//.visible=false;
        var bluePanel = this.bluePanel;
		var questionPanel = this.questionPanel;
        var resultsPanel = this.resultsPanel;
        var scoreboard = this.scoreboard;
        //questionPanel.visible=false;// only need one
        questionPanel.y=-100;
        scoreboard.y=-50;
		// begin intro
		var title = this.titleAnimation;
        //title.gotoAndPlay(1);// not playing correctly
        
        var beginBtn = this.beginBtn;
        beginBtn.cursor='pointer';
		//beginBtn.visible=false;// until intro animation done?
        // on click start game
        beginBtn.on('click', function() {
            cjs.Tween.get(title).to({scaleX:2.5,scaleY:2.5,alpha:0},150);
            cjs.Tween.get(bluePanel).wait(200).to({y:710},150);
            //cjs.Tween.get(beginBtn).wait(300).to({y:560},250);
            beginBtn.y=560;
            cjs.Tween.get(scoreboard).wait(900).to({y:24},100);
            
            stars.y = 370;
            stars.gotoAndPlay(1);// test
            // set up first question
            nextQuestion();
        });
        
        var retryBtn = this.resultsPanel.retryBtn;
        retryBtn.txt.text="Play Again";// different btn
        retryBtn.cursor='pointer';
        retryBtn.on('click', function() {
            cjs.Tween.get(title).to({scaleX:1,scaleY:1,alpha:1},150);
            cjs.Tween.get(bluePanel).wait(200).to({y:247},150);
            //cjs.Tween.get(beginBtn).wait(300).to({y:560},250);
            beginBtn.y=378;
            stars.y = 370;
            stars.gotoAndPlay(1);// test
            // set up game
            startover();
        });
        
        console.log('data:', gameQuest);// sample questions
        // will be replaced by gameQuest
        console.log('bluePanel.y', bluePanel.y);
        console.log('resultsPanel.y', resultsPanel.y);
		console.log('beginBtn.y', beginBtn.y);
        
        startover();
        
        function nextQuestion() {
            updateQuestion();
            questionPanel.alpha=0;
            questionPanel.visible=true;
            questionPanel.y=-100;
            answers = [];//reset
            
            questionPanel.txt.text = gameQuest.items[qnum].question;
            // create answerPanels with text
            //console.log('answers:', gameQuest.items[qnum].answers);
            for (var i=0; i<gameQuest.items[qnum].answers.length; i++) {
                var ansbtn = new lib.answerPanel();
                ansbtn.txt.text = gameQuest.items[qnum].answers[i].text;
                ansbtn.id = gameQuest.items[qnum].answers[i].id;
                ansbtn.weight = gameQuest.items[qnum].answers[i].weight;
                
                stage.addChild(ansbtn);
                ansbtn.mouseChildren = false;
                ansbtn.setTransform(400,560);//centered off bottom of screen
                answers.push(ansbtn);
            }
            
            var shuffled = scrambleArray(answers);
            //console.log('shuffled:',shuffled);
            
            // drag / drop events
            var left=20;// starting x,y
            var top=300;
            var count=0;
            for (i=0; i<shuffled.length; i++) {
                
                //animate answers onto screen
                cjs.Tween.get(shuffled[i]).wait((i+1)*600).to({x:left, y:top},200);
                top += 80;
                count += 1;
                if (count > 1) {
                    count = 0;
                    top = 300;
                    left += 460;
                }
                
                // drag
                shuffled[i].on("mousedown", function(e) {
                    var o = e.target; 
                    //console.log('msdown:', e.target.id);
                    o.parent.addChild(o);//bring to front
                    o.offset = {x: o.x - e.stageX, y: o.y - e.stageY};
                    o.origin = {x: o.x, y: o.y};//starting location
                });
                // dragging
                shuffled[i].on("pressmove", function(e) {
                    // target is the item that the event listener was added to
                    var o = e.target;// stageX is mouse x
                    o.x = e.stageX + o.offset.x;
                    o.y = e.stageY + o.offset.y;
                });
                // dropped
                shuffled[i].on("pressup", function(e) {
                    var o = e.target;// the object
                    //console.log("up at:", o.x, o.y);//top,left of object
                    //console.log("up at:", o.x-o.offset.x, o.y-o.offset.y);// same
                    //console.log(e.target.id, "msup at", e.stageX, e.stageY);// mouse location
                    // if dropped on the questionPanel
                    if (e.stageY < 260) {
                        
                        // if correct, play animation, and show feedback
                        if (e.target.weight > 0) {
                            var nutxt = e.target.txt.text;
                            console.log('nutxt:',nutxt);// answer text
                            // add nutxt to question?
                            
                            //play correct animation
                            stars.setTransform(e.stageX, e.stageY);// offset?
                            stars.gotoAndPlay(1);
                            //e.target.visible=false;
                            // remove all answers
                            removeAnswers(shuffled);
                            // update scoreboard
                            score += 1;
                            updateScore();
                            // if correct_comments, show it
                            
                            // inc question number
                            qnum += 1;
                            // check if done
                            if (qnum == qtotal) {
                                // game over play again
                                //resultsPanel.y=-170;
                                cjs.Tween.get(questionPanel).to({y:560,alpha:0},350);
                                cjs.Tween.get(resultsPanel).wait(600).to({y:260},200);
                                // grade assignment
                                sendGrade();
                                
                            } else {
                                nextQuestion();
                            }

                        } else {
                            wrong.setTransform(e.stageX-25, e.stageY-25);
                            wrong.gotoAndPlay(1);
                            if (score > 0) {
                                //score -= 1;
                                //updateScore();
                            }
                            //tween answer back to origin
                            console.log('obj origin', o.origin.x, o.origin.y);
                            cjs.Tween.get(e.target).to({x:o.origin.x, y:o.origin.y}, 500);
                            
                            //if incorrect_comments, show it
                            //if neutral_comments, show it
                        }
                        
                /* not over question tween back to origin */    
                    } else {
                        console.log('obj origin', o.origin.x, o.origin.y);
                        cjs.Tween.get(e.target).to({x:o.origin.x, y:o.origin.y}, 400);
                    }
                });
            }
            // animate onto screen
            cjs.Tween.get(questionPanel).to({y:180,alpha:1},350);
        }
        
        function updateScore() {
            scoreboard.score.text = 'Score: '+score;
        }
        function updateTime() {

        }
        function updateQuestion() {
            scoreboard.count.text = 'Question:'+(qnum+1)+'/'+qtotal;
        }
        function startover() {
            //resultsPanel.visible=false;
            resultsPanel.y=-170;
            //reset vars
            score=qnum=0;
            updateScore();
            updateTime();
            qtotal = gameQuest.items.length;
            console.log('Total:',qtotal);
            updateQuestion();

            title.gotoAndPlay(1);// not playing correctly
        }

        function removeAnswers(answers) {
            for (var i=0; i<answers.length; i++) {
                stage.removeChild(answers[i]);
            }
        }

        function scrambleArray(anaray) {
            var tar1 = anaray;
            var tar2 = [];//new Array();
            for(var i = 0; i < tar1.length; i+=1) {
                var selector = Math.random() * 10;//console.log(selector);
                if(selector >= 5) { tar2.push(tar1[i]); } else { tar2.unshift(tar1[i]); }
            }
            return tar2;
        }
    }

    // actions tween:
    this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(1));

    // scoreboard
    this.scoreboard = new lib.scoreboard();
    this.scoreboard.setTransform(470.9,23.8,1,1,0,0,0,460.9,15.8);
    this.timeline.addTween(cjs.Tween.get(this.scoreboard).wait(1));

    // wrongAnimation
    this.wrongAnimation = new lib.wrongAnimation();
    this.wrongAnimation.setTransform(574.2,435.1,1,1,0,0,0,24.2,22.2);
    this.timeline.addTween(cjs.Tween.get(this.wrongAnimation).wait(1));

    // starsAnimation
    this.starsAnimation = new lib.staranimated();
    this.starsAnimation.setTransform(479,35.8);
    this.timeline.addTween(cjs.Tween.get(this.starsAnimation).wait(1));

    // questionPanel
    this.questionPanel = new lib.questionPanel();
    this.questionPanel.setTransform(478.4,140.5,1,1,0,0,0,461.4,123.5);
    this.questionPanel.id='qpanel';
    this.timeline.addTween(cjs.Tween.get(this.questionPanel).wait(1));

    // answerPanel1
    //this.answerPanel1 = new lib.answerPanel();
    //this.answerPanel1.setTransform(240.5,320.5,1,1,0,0,0,223.5,31.5);
    //this.timeline.addTween(cjs.Tween.get(this.answerPanel1).wait(1));

    // beginBtn
    this.beginBtn = new lib.beginBtn();
    this.beginBtn.setTransform(479.5,378.5,1,1,0,0,0,72.5,18.5);
    this.timeline.addTween(cjs.Tween.get(this.beginBtn).wait(1));

    // titleAnimation
    this.titleAnimation = new lib.titleAnimation();
    this.titleAnimation.setTransform(479.5,250.1,1,1,0,0,0,-0.6,0.1);
    this.timeline.addTween(cjs.Tween.get(this.titleAnimation).wait(1));

    // bluePanel
    this.bluePanel = new lib.bluePanel();
    this.bluePanel.setTransform(478.9,247.5,1,1,0,0,0,454.9,167.5);
    this.timeline.addTween(cjs.Tween.get(this.bluePanel).wait(1));

    // resultsPanel
    this.resultsPanel = new lib.resultsPanel();
    this.resultsPanel.setTransform(478.9,269.5,1,1,0,0,0,304.9,167.5);
    this.timeline.addTween(cjs.Tween.get(this.resultsPanel).wait(1));

    // watermark
    this.watermark = new lib.watermark();
    this.watermark.setTransform(479.3,331,1.673,1.673,0,0,0,139.7,91.5);
    this.watermark.alpha = 0.03;
    this.timeline.addTween(cjs.Tween.get(this.watermark).wait(1));

}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(156.2,286,1264.8,491.3);

})(lib = lib||{}, images = images||{}, createjs = createjs||{}, ss = ss||{});
var lib, images, createjs, ss;